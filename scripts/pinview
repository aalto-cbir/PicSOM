#! picsom

#$ -S /home/jorma/picsom/c++/picsom.linux64.fast
#$ -N pinview
#$ -cwd
#$ -j yes
#$ -l mem=2G,t=12:00:00

# $Id: pinview,v 1.23 2010/05/09 14:49:43 jorma Exp $	
#
# a PicSOM script for testing functionality of PinView WP3, WP4, ...

analyse=simulate
debugtrap=yes

database=voc2007-20080403
target=image

#algorithm=picsom_bottom
algorithm=pinview_feat=raw_linrel=AUCB_mkl=none
#algorithm=pinview_linrel

# AUCB, 1UCB, AExp 

# ${cls} = cat
# result=${cls}-${algorithm}

optimize=avgprec

*SUM*
* ${cls} = cat dog cow horse person bird sheep aeroplane bicycle boat bus car motorbike train bottle chair diningtable pottedplant sofa tvmonitor

result=all-${algorithm},${cls}-${algorithm}

#features=colorlayout,dominantcolor,edgefourier,edgehistogram,ipld_lbg256,scalablecolor,zo5:colm,zo5:colour,zo5:edgecoocc,zo5:edgehist,zo5:texture
features=colorlayout,dominantcolor,edgefourier

#features=colorlayout,edgehistogram,ipld_lbg256

aspects=(weight=1.0),gaze(weight=1.0)

restriction=train
class=${cls}_train
#gt_pn=0.1
#gt_np=0.15

positive.gaze=${cls}_train
gt_pn.gaze = 0.244
gt_np.gaze = 0.346

maxquestions=15
permapnewimages=500
verbose=2
rndseed=1

rounds=10
classrounds=20

### Displays ROC curves
#./picsom analyse=post -plot=roc xxx-1.xml yyy-1.xml

### Displays recall-precision with precision in [0,0.2]
##./picsom.linux.debug analyse=post -plot=rpx0.2 xxx-1.xml yyy-1.xml

### Creates a PNG of recall-precision
## ./picsom filename=png analyse=post -plot=rpx0.2 xxx-1.xml yyy-1.xml

### Stores the recall-precision curve points in /usr/tmp/gnuplotXXXX.a.b
## ./picsom -Dgpkeep -Dgp analyse=post -plot=rpx0.2 xxx-1.xml yyy-1.xml

